<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <title>gift-ee</title>
		<link href="profile.css", type="text/css", rel="stylesheet">
		<link rel="stylesheet", href="https://use.fontawesome.com/releases/v5.4.1/css/all.css">
		<link rel="stylesheet", type="text/css", href="//fonts.googleapis.com/css?family=Ubuntu">
	</head>
    <body>
        <nav>
            <div>
                <a class="home_btn", href="/"><i class="fas fa-gift"></i> Gift-ee</a>
                <a class="about_btn", href="/about"><i class="fas fa-info-circle"></i> About</a>
                <a class="search_btn", href="/search"><i class="fas fa-search"></i> Search</a>
                <a class="login_btn", href="/login"><i class="fas fa-sign-in-alt"></i> Login</a>
                <a class="signup_btn", href="/sign-up"><i class="fas fa-user-plus"></i> Sign Up</a>
            </div>
        </nav>
        <main>
            <div class="gift-list">
                <form class="add-gift" action="added_gift_status" method="POST">
                    <p>Add Gift to List</p>
                    <div class="gift-top", onclick="revealContent(0)"></div>
                        <div class="item-content">
                            <input type="text", id="item_name", name="itemName", placeholder="Item Name">
                            <input type="text", id="link", name="link", placeholder="Link">
                            <input type="text", id="quantity", name="qty", placeholder="Quantity">
                            <input type="text", id="size", name="size", placeholder="Size">
                            <input type="text", id="color", name="color", placeholder="Color">
                            <input type="text", id="imgURL", name="imgURL", placeholder="Image URL">
                            <input type="submit" value="Add to gift-ee List">
                        </div>
                    <div class="gift-bottom", onclick="revealContent(0)"><i class="fas fa-plus-square"></i></div>
                </form>
                <form action="deleted_gift_status" method="POST">
                    <div class="gift-item">
                        <p class="item-name">Item Name</p>
                        <div class="gift-top", onclick="revealContent(1)"></div>
                        <div class="item-content">
                            <a href="https://drop.com/buy/massdrop-sennheiser-hd6xx" target="_blank">Item Link</a>
                            <p>Item Color</p>
                            <p>Item Qty</p>
                            <p>Item Size</p>
                            <p><i class="fas fa-trash-alt"></i></p>
                        </div>
                        <div class="gift-bottom", onclick="revealContent(1)"><img src="https://massdrop-s3.imgix.net/product-images/massdrop-sennheiser-hd6xx/FP/cJolRuxYSgqdFtmFawp8_yJ6M80CfTZGYMcNKc5of_0cYrqmTrQFOf4cbRVO6t_H6xx%20Reshoot32572.png?auto=format&fm=jpg&fit=fill&w=820&h=547&bg=f0f0f0&dpr=1&q=70" alt="My Image"/></div>
                    </div>
                </form>
                <form action="deleted_gift_status" method="POST">
                    <div class="gift-item">
                        <p class="item-name">Item Name</p>
                        <div class="gift-top", onclick="revealContent(2)"></div>
                        <div class="item-content">
                            <a href="https://drop.com/buy/massdrop-sennheiser-hd6xx" target="_blank">Item Link</a>
                            <p>Itemasdaasdasdasdasdasdasdsdasdasdasdasd asdasdasdasdaasdasdasdasdasdasdsdColor</p>
                            <p>Item Qty</p>
                            <p>Item Size</p>
                            <p onclick="deleteFunction(2)"><i class="fas fa-trash-alt"></i></p>
                        </div>
                        <div class="gift-bottom", onclick="revealContent(2)"><i class="fas fa-pencil-alt"></i></div>
                    </div>
                </form>
            </div>
        </main>
	</body>

    <script>
        function revealContent(itemNum) {
            let itemContent = document.getElementsByClassName("item-content")[itemNum];
            let image = document.createElement('i');
            console.log("got item number: " + itemNum);
            let giftBottom = document.getElementsByClassName("gift-bottom")[itemNum];
            let child = giftBottom.lastElementChild;
            if(itemNum == 0){
                while(child) {
                    giftBottom.removeChild(child);
                    child = giftBottom.lastElementChild;
                }
            }

            if(itemContent.style.display == "none") {
                itemContent.style.display = "flex";
                if(itemNum == 0) {
                    image.className = "fas fa-minus-square";
                    giftBottom.appendChild(image);
                }
            } else if(itemContent.style.display == "flex") {
                itemContent.style.display = "none";
                if(itemNum == 0) {
                    image.className = "fas fa-plus-square";
                    giftBottom.appendChild(image);
                }
            } else {
                itemContent.style.display = "flex";
                if(itemNum == 0) {
                    image.className = "fas fa-minus-square";
                    giftBottom.appendChild(image);
                }
            }
        }

        function deleteFunction(itemNum) {
            let itemToDelete = document.getElementsByTagName("form");
            itemToDelete[itemNum].submit();
            console.log("item deleted");
        }
    </script>
</html>
